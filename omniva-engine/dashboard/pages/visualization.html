{% extends "layout.html" %}
{% block content %}
<h2>Pipeline Visualization (Placeholder)</h2>

<div id="graph" style="font-family: monospace; white-space: pre;"></div>

<script>
fetch("/visualization/structure")
    .then(r => r.json())
    .then(data => {
        let out = "";
        out += data.name + "\n\n";
        out += "Nodes:\n";
        data.nodes.forEach(n => out += "- " + n.id + ": " + n.label + "\n");
        out += "\nEdges:\n";
        data.edges.forEach(e => out += e.from + " -> " + e.to + "\n");
        document.getElementById("graph").textContent = out;
    })
    .catch(() => {
        document.getElementById("graph").textContent = "Failed to load visualization";
    });
</script>
{% endblock %}
