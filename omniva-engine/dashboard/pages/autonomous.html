{% extends "layout.html" %}
{% block content %}
<h2>Autonomous Mode (Placeholder)</h2>

<input id="pid" placeholder="Project ID" />
<button onclick="enableAuto()">Enable</button>
<button onclick="disableAuto()">Disable</button>
<button onclick="tick()">Manual Tick</button>

<pre id="output">Status will appear here</pre>

<script>
function enableAuto() {
    const pid = document.getElementById("pid").value;
    fetch(`/autonomous/enable/${pid}`, {method: "POST"})
        .then(r => r.json())
        .then(data => document.getElementById("output").textContent = JSON.stringify(data, null, 2));
}

function disableAuto() {
    const pid = document.getElementById("pid").value;
    fetch(`/autonomous/disable/${pid}`, {method: "POST"})
        .then(r => r.json())
        .then(data => document.getElementById("output").textContent = JSON.stringify(data, null, 2));
}

function tick() {
    fetch("/autonomous/tick", {method: "POST"})
        .then(r => r.json())
        .then(data => document.getElementById("output").textContent = JSON.stringify(data, null, 2));
}
</script>
{% endblock %}
