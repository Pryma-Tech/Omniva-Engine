{% extends "layout.html" %}
{% block content %}
<h2>Pipeline Runner (Placeholder)</h2>

<input id="pid" placeholder="Project ID" />
<button onclick="runPipe()">Run Pipeline</button>

<pre id="output">Pipeline results will appear here</pre>

<script>
function runPipe() {
    let pid = document.getElementById("pid").value;
    fetch("/pipeline/run/" + pid, {method: "POST"})
        .then(r => r.json())
        .then(data => {
            document.getElementById("output").textContent =
                JSON.stringify(data, null, 2);
        })
        .catch(() => {
            document.getElementById("output").textContent = "Failed to run pipeline";
        });
}
</script>
{% endblock %}
